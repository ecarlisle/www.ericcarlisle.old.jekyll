---
layout: post
title: Bower &#58; How I Learned to Stop Worrying and Love Client-Side Asset Management
author: Eric Carlisle
date: 2015-01-06 8:00:00
categories: ui automation bower
image: http://www.ericcarlisle.com/assets/img/bower-logo.png
excerpt: <p>Management of client-side assets like libraries and frameworks has always been a tedious task.  On each project we ask ourselves:</p><blockquote><em>What kind of client-side assets do I need?<br/>What versions of each should I use?<br/>How will I to keep these all manageable over time?</em></blockquote><p>Upon using the <a href="http://bower.io/">Bower</a> package manager, I’ve found it much easier to answer such questions.  At a high level Bower is similar to other command-line software managers like <a href="http://brew.sh/">Homebrew</a> or <a href="http://nodejs.org/">npm</a>.  Use it for installing, updating, removing, and ultimately <a href="http://bower.io/docs/api/">managing</a> your inventory of client-side assets.</p>
---

<img src="/assets/img/bower-logo.png" alt="Bower Logo" title="Bower Logo" align="right" />

<p>Management of client-side assets like libraries and frameworks has always been a tedious task.  On each project we ask ourselves:</p>

<blockquote>
	<em>	
		What kind of client-side assets do I need?<br/>
		What versions of each should I use?<br/>
		How will I to keep these all manageable over time?
	</em>
</blockquote>

<p>Upon using the <a href="http://bower.io/">Bower</a> package manager, I’ve found it much easier to answer such questions.  At a high level Bower is similar to other command-line software managers like <a href="http://brew.sh/">Homebrew</a> or <a href="http://nodejs.org/">npm</a>.  Use it for installing, updating, removing, and ultimately <a href="http://bower.io/docs/api/">managing</a> your inventory of client-side assets.</p>

<p>Compare this to handling everything manually and the benefits show themselves very quickly.</p>

<p>To get started with Bower, you will need <a href="http://nodejs.org/download/">Node.js, npm</a>, and <a href="http://git-scm.com/">Git</a>. Once you have those, open a terminal or command prompt and install bower using npm (another groovy package manager).</p>

{% highlight powershell %}
$ npm install -g bower
{% endhighlight %}

<p>This will install bower globally, making it available to all of your projects.</p>

<p>We’ll then initialize bower.</p>

{% highlight powershell %}
$bower init
{% endhighlight %}

<p>Initialization is important as it will generate bower.json, a manifest of all the dependencies you will set.</p>

<p>Now, let’s install some client-side packages.</p>

{% highlight powershell %}
$ bower install jquery normalize.css bootstrap -S
{% endhighlight %}

<p>When the process completes, you’ll have:</p>

<ol>
	<li>A bower_components folder with the three packages we've selected</li>
	<li>An updated bower.json file</li>
</ol>

<p>The bower_components folder contains a comprehensive file-set for each of your requested assets.  You will probably need only portion of these files for a production install, so you’ll want to add the bower_components to your <a href="http://git-scm.com/docs/gitignore">.gitignore</a> file.  We’ll talking about configuring the files you need for production use.</p>

<p>Since we used “-S” when installing assets, these are saved as dependencies in your bower.json file.</p>

{% highlight js %}
"dependencies": {
  "jquery": "~2.1.3",
  "normalize.css": "~3.0.2",
  "bootstrap": "~3.3.1"
}
{% endhighlight %}

<p>Since your assets are now tracked in the bower.json manifest, your bower_components folder may be restored at any time by executing “bower install.”<p>

<p>Finally, let’s talk about using only the files you need for production use. When installing a requested package, bower will install the entire <a href="http://www.github.com">GitHub</a> repository into a <em>/bower_components</em> folder. This is great for development, but we'll probably need only a portion of those files for production use. We can then use the <a href="https://github.com/blittle/bower-installer">bower-installer</a> package to copy only the files we need to our asset folders.</p>

{% highlight powershell %}
$ npm install -g bower-installer
{% endhighlight %}

<p>Now we can add the following to our bower.json file. We indicate a base path that contains our asset folders.</p>

{% highlight js %}
"install": {
    "base":  "assets",
        "path" : {
            "js": "{name}/js",
            "css": "{name}/css",
            "eot": "{name}/fonts",
            "svg": "{name}/fonts",
            "ttf": "{name}/fonts",
            "woff": "{name}/fonts"
        }       
    }
}
{% endhighlight %}

<p>Now upon running <em>bower-installer</em> on the command line, only files marked as "main" in a components bower.json file will be copied to the respective asset folder. A jquery component would copy jquery.js inside /assets/js. For some packages (including jQuery), an additional folder is created. The final destination for jquery will be /assets/js/jquery/jquery.js.</p>

<p>If we need different file(s), we can be more explicit and place needed file in an array.</p>

{% highlight js %}
"install" : {
    "path" : "assets",
    "sources" : {
        "jquery" : [
            "bower_components/jquery/dist/jquery.js",
            "bower_components/jquery/dist/jquery.min.css"
        ]
    }
}
{% endhighlight %}

<p>Now upon executing “bower-installer,” a much more lightweight set of files will be copied to an “assets” directory.  We will use these files on the production install of our application.</p>

<p>As a UI geek, Bower has made client-side asset management absolutely dreamy for me!  In addition to file management automation, my upgrade lifecycles are more streamlined as well.  Additionally, I can further automate these processes by using them within <a href="http://gruntjs.com/">Grunt</a> or <a href="http://gulpjs.com/">Gulp</a>.

<p>Keep up the great work, <a href="http://bower.io/">Bower</a>!</p>
